class e{constructor({container:e=null,btns:t=null,next:s=null,prev:i=null,activeClass:n="",animate:l,autoplay:a}={}){this.container=document.querySelector(e);try{this.slides=this.container.children}catch(e){}this.btns=document.querySelectorAll(t),this.prev=document.querySelector(i),this.next=document.querySelector(s),this.activeClass=n,this.animate=l,this.autoplay=a,this.slideIndex=1}}class t extends e{constructor({btns:e,container:t}){super({btns:e,container:t}),console.log(this)}showSlides(e){e>this.slides.length&&(this.slideIndex=1),e<1&&(this.slideIndex=this.slides.length);try{this.hanson.style.opacity="0",3===e?(this.hanson.classList.add("animated"),setTimeout(()=>{this.hanson.style.opacity="1",this.hanson.classList.add("slideInUp")},3e3)):this.hanson.classList.remove("slideInUp")}catch(e){}Array.prototype.forEach.call(this.slides,e=>e.style.display="none"),this.slides[this.slideIndex-1].style.display="block"}plusSlides(e){this.showSlides(this.slideIndex+=e)}bindTriggers(){this.btns.forEach(e=>{e.addEventListener("click",()=>{this.plusSlides(1)}),e.parentNode.previousElementSibling.addEventListener("click",e=>{e.preventDefault(),this.slideIndex=1,this.showSlides(this.slideIndex)})}),document.querySelectorAll(".prevmodule").forEach(e=>{e.addEventListener("click",e=>{e.stopPropagation(),e.preventDefault(),this.plusSlides(-1)})}),document.querySelectorAll(".nextmodule").forEach(e=>{e.addEventListener("click",e=>{e.stopPropagation(),e.preventDefault(),this.plusSlides(1)})})}render(){if(this.container){try{this.hanson=document.querySelector(".hanson")}catch(e){}this.showSlides(this.slideIndex),this.bindTriggers()}}}class s extends e{constructor({container:e,next:t,prev:s,activeClass:i,animate:n,autoplay:l}){super({container:e,next:t,prev:s,activeClass:i,animate:n,autoplay:l}),this.init()}init(){try{this.container.style.cssText=`
      display: flex;
      flex-wrap: wrap;
      overflow: hidden;
      align-items: flex-start;
    `,this.bindTriggers(),this.decorateSlides(),this.autoplay&&setInterval(()=>this.nextSlide(),5e3)}catch(e){}}nextSlide(){"BUTTON"==this.slides[1].tagName&&"BUTTON"==this.slides[2].tagName?(this.container.appendChild(this.slides[0]),this.container.appendChild(this.slides[0]),this.container.appendChild(this.slides[0])):("BUTTON"==this.slides[1].tagName&&this.container.appendChild(this.slides[0]),this.container.appendChild(this.slides[0])),this.decorateSlides()}bindTriggers(){this.next.addEventListener("click",()=>this.nextSlide()),this.prev.addEventListener("click",()=>{for(let e=this.slides.length-1;e>0;e--)if("BUTTON"!==this.slides[e].tagName){let t=this.slides[e];this.container.insertBefore(t,this.slides[0]),this.decorateSlides();break}})}decorateSlides(){Array.prototype.forEach.call(this.slides,e=>{e.classList.remove(this.activeClass),this.animate&&(e.querySelector(".card__title").style.opacity="0.4",e.querySelector(".card__controls-arrow").style.opacity="0")}),this.slides[0].closest("button")||this.slides[0].classList.add(this.activeClass),this.animate&&(this.slides[0].querySelector(".card__title").style.opacity="1",this.slides[0].querySelector(".card__controls-arrow").style.opacity="1")}}class i{constructor(e,t){this.btns=document.querySelectorAll(e),this.overlay=document.querySelector(t),this.close=this.overlay.querySelector(".close"),this.init()}init(){let e=document.createElement("script");e.src="https://www.youtube.com/iframe_api";let t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t),this.bindTriggers(),this.bindCloseBtn()}bindTriggers(){this.btns.forEach(e=>{e.addEventListener("click",()=>{if(!document.querySelector("iframe#frame")){let t=e.getAttribute("data-url");this.createPlayer(t)}this.overlay.style.display="flex"})})}bindCloseBtn(){this.close.addEventListener("click",()=>{this.overlay.style.display="none",this.player.stopVideo()})}createPlayer(e){this.player=new YT.Player("frame",{height:"100%",width:"100%",videoId:`${e}`})}}class n{constructor(e,t,s){try{this.oldOfficer=document.querySelector(e),this.newOfficer=document.querySelector(t),this.oldItems=this.oldOfficer.querySelectorAll(s),this.newItems=this.newOfficer.querySelectorAll(s),this.oldCounter=0,this.newCounter=0,this.init()}catch(e){}}init(){this.hideItems(this.oldItems),this.hideItems(this.newItems),this.bindTriggers(this.oldOfficer,this.oldItems,this.oldCounter),this.bindTriggers(this.newOfficer,this.newItems,this.newCounter)}hideItems(e){e.forEach((e,t,s)=>{t!==s.length-1&&(e.style.display="none")})}bindTriggers(e,t,s){e.querySelector(".plus").addEventListener("click",()=>{t[s].style.display="flex",t[s].classList.add("animated","slideInDown"),s!==t.length-2?s++:t[t.length-1].remove()})}}class l{constructor(e,t){this.forms=document.querySelectorAll(e),this.inputs=document.querySelectorAll("input"),this.message={loading:"Загрузка...",success:"Спасибо! Скоро мы с вами свяжемся!",failure:"Что-то пошло не так..."},this.path=t,this.init()}init(){this.checkMailInputs(),this.initMask(),this.forms.forEach(e=>{e.addEventListener("submit",t=>{t.preventDefault();let s=document.createElement("div");s.style.cssText=`
                    margin-top: 15px;
                    font-size: 18px;
                    color: grey;
                `,e.parentNode.appendChild(s),s.textContent=this.message.loading;let i=new FormData(e),n=JSON.stringify(Object.fromEntries(i));this.postData(this.path,n).then(e=>{console.log(e),s.textContent=this.message.success}).catch(()=>{s.textContent=this.message.failure}).finally(()=>{this.clearInputs(),setTimeout(()=>{s.remove()},5e3)})})})}async postData(e,t){let s=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:t});return await s.json()}clearInputs(){this.inputs.forEach(e=>{e.value=""})}checkMailInputs(){let e=document.querySelectorAll('[type="email"]');e.forEach(e=>{e.addEventListener("keypress",function(e){e.key.match(/[^a-z 0-9 @ \.]/gi)&&e.preventDefault()})})}initMask(){let e=(e,t)=>{if(t.focus(),t.setSelectionRange)t.setSelectionRange(e,e);else if(t.createTextRange){let s=t.createTextRange();s.collapse(!0),s.moveEnd("character",e),s.moveStart("character",e),s.select()}};function t(t){let s="+1 (___) ___-____",i=0,n=s.replace(/\D/g,""),l=this.value.replace(/\D/g,"");n.length>=l.length&&(l=n),this.value=s.replace(/./g,function(e){return/[_\d]/.test(e)&&i<l.length?l.charAt(i++):i>=l.length?"":e}),"blur"===t.type?2==this.value.length&&(this.value=""):e(this.value.length,this)}document.querySelectorAll('[name="phone"]').forEach(e=>{e.addEventListener("input",t),e.addEventListener("focus",t),e.addEventListener("blur",t)})}}window.addEventListener("DOMContentLoaded",function(){let e=new t({container:".page",btns:".next"});e.render();let a=new t({container:".moduleapp",btns:".next"});a.render(),new s({container:".showup__content-slider",next:".showup__next",prev:".showup__prev",activeClass:"card-active",animate:!0}),new s({container:".modules__content-slider",prev:".modules__info-btns .slick-prev",next:".modules__info-btns .slick-next",activeClass:"card-active",animate:!0,autoplay:!0}),new s({container:".feed__slider",prev:".feed__slider .slick-prev",next:".feed__slider .slick-next",activeClass:"feed__item-active"}),new i(".showup .play",".overlay"),new n(".officerold",".officernew",".officer__card-item"),new l(".form","https://jsonplaceholder.typicode.com/posts")});
//# sourceMappingURL=index.3e39095a.js.map
